[2022-12-22T04:30:03.495Z][QUERY]: SELECT * FROM current_schema()
[2022-12-22T04:30:04.427Z][QUERY]: SHOW server_version;
[2022-12-22T04:30:04.430Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_migrations'
[2022-12-22T04:30:04.438Z][QUERY]: CREATE TABLE "typeorm_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_bb2f075707dd300ba86d0208923" PRIMARY KEY ("id"))
[2022-12-22T04:30:04.464Z][QUERY]: SELECT * FROM "typeorm_migrations" "typeorm_migrations" ORDER BY "id" DESC
[2022-12-22T04:30:04.467Z]No migrations are pending
[2022-12-22T04:31:15.590Z][QUERY]: SELECT * FROM current_schema()
[2022-12-22T04:31:16.644Z][QUERY]: SHOW server_version;
[2022-12-22T04:31:16.647Z][QUERY]: START TRANSACTION
[2022-12-22T04:31:16.650Z][QUERY]: SELECT * FROM current_schema()
[2022-12-22T04:31:16.652Z][QUERY]: SELECT * FROM current_database()
[2022-12-22T04:31:16.654Z][QUERY]: SELECT "table_schema", "table_name" FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'emailVerification') OR ("table_schema" = 'public' AND "table_name" = 'password_reset') OR ("table_schema" = 'public' AND "table_name" = 'phoneVerification') OR ("table_schema" = 'public' AND "table_name" = 'schedules') OR ("table_schema" = 'public' AND "table_name" = 'pet_owner') OR ("table_schema" = 'public' AND "table_name" = 'pet_walker') OR ("table_schema" = 'public' AND "table_name" = 'profile') OR ("table_schema" = 'public' AND "table_name" = 'users') OR ("table_schema" = 'public' AND "table_name" = 'emailChange') OR ("table_schema" = 'public' AND "table_name" = 'pet')
[2022-12-22T04:31:16.660Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2022-12-22T04:31:16.664Z]creating a new table: public.emailVerification
[2022-12-22T04:31:16.667Z][QUERY]: CREATE TABLE "emailVerification" ("id" SERIAL NOT NULL, "token" character varying(21) NOT NULL, "userId" integer NOT NULL, "validUntil" TIMESTAMP NOT NULL, "isVerification" boolean NOT NULL DEFAULT false, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "updatedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_2382546f971f52418d861080fe1" PRIMARY KEY ("id"))
[2022-12-22T04:31:16.682Z]creating a new table: public.password_reset
[2022-12-22T04:31:16.683Z][QUERY]: CREATE TABLE "password_reset" ("id" SERIAL NOT NULL, "token" character varying(21) NOT NULL, "userId" character varying NOT NULL, "validUntil" TIMESTAMP NOT NULL, "isVerification" boolean NOT NULL DEFAULT false, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_8515e60a2cc41584fa4784f52ce" PRIMARY KEY ("id"))
[2022-12-22T04:31:16.694Z]creating a new table: public.phoneVerification
[2022-12-22T04:31:16.695Z][QUERY]: CREATE TABLE "phoneVerification" ("id" SERIAL NOT NULL, "code" character varying(6) NOT NULL, "userId" integer NOT NULL, "validUntil" TIMESTAMP NOT NULL, "isVerification" boolean NOT NULL DEFAULT false, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_b7dfa760f38b0c9eb2781d26439" PRIMARY KEY ("id"))
[2022-12-22T04:31:16.705Z]creating a new table: public.schedules
[2022-12-22T04:31:16.707Z][QUERY]: CREATE TABLE "schedules" ("id" SERIAL NOT NULL, "name" character varying, "workDate" TIMESTAMP, "startHour" TIMESTAMP, "endHour" TIMESTAMP, "dayOfWeek" integer, "repeatDaysNumber" integer, "isHoliday" boolean NOT NULL, "isWeekend" boolean NOT NULL, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_7e33fc2ea755a5765e3564e66dd" PRIMARY KEY ("id"))
[2022-12-22T04:31:16.727Z]creating a new table: public.pet_owner
[2022-12-22T04:31:16.728Z][QUERY]: CREATE TABLE "pet_owner" ("id" SERIAL NOT NULL, "rating" double precision NOT NULL, CONSTRAINT "PK_5116a00f46dd9097ed6bd8dd6a5" PRIMARY KEY ("id"))
[2022-12-22T04:31:16.734Z]creating a new table: public.pet_walker
[2022-12-22T04:31:16.735Z][QUERY]: CREATE TABLE "pet_walker" ("id" SERIAL NOT NULL, "rating" double precision NOT NULL, CONSTRAINT "PK_5260c910bb9b88432d47caaf89f" PRIMARY KEY ("id"))
[2022-12-22T04:31:16.744Z]creating a new table: public.profile
[2022-12-22T04:31:16.745Z][QUERY]: CREATE TABLE "profile" ("id" SERIAL NOT NULL, "bio" character varying NOT NULL, "profileType" character varying NOT NULL, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_3dd8bfc97e4a77c70971591bdcb" PRIMARY KEY ("id"))
[2022-12-22T04:31:16.754Z]creating a new table: public.users
[2022-12-22T04:31:16.756Z][QUERY]: CREATE TABLE "users" ("id" SERIAL NOT NULL, "username" character varying(200) NOT NULL, "email" character varying(100) NOT NULL, "passwordHash" character varying NOT NULL, "firstName" character varying(200) NOT NULL, "lastName" character varying(200) NOT NULL, "middleName" character varying(100), "image" character varying NOT NULL, "emailVerified" boolean NOT NULL DEFAULT false, "birthDate" TIMESTAMP, "phone" character varying NOT NULL, "registrationDate" TIMESTAMP NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone, "roles" text NOT NULL, "isAccountDisabled" boolean NOT NULL, "age" integer NOT NULL, "createdAt" TIMESTAMP DEFAULT now(), "updatedAt" TIMESTAMP DEFAULT now(), CONSTRAINT "username" UNIQUE ("username"), CONSTRAINT "email" UNIQUE ("email"), CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2022-12-22T04:31:16.769Z]creating a new table: public.emailChange
[2022-12-22T04:31:16.770Z][QUERY]: CREATE TABLE "emailChange" ("id" SERIAL NOT NULL, "token" character varying(21) NOT NULL, "newEmail" character varying NOT NULL, "userId" integer NOT NULL, "validUntil" TIMESTAMP NOT NULL, "isVerification" boolean NOT NULL DEFAULT false, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_6e8e3dcd4d8e4cdea67b9e6c6c1" PRIMARY KEY ("id"))
[2022-12-22T04:31:16.779Z]creating a new table: public.pet
[2022-12-22T04:31:16.780Z][QUERY]: CREATE TABLE "pet" ("id" SERIAL NOT NULL, "name" character varying NOT NULL, "type" integer NOT NULL DEFAULT '1', "birthDate" TIMESTAMP, "photo" character varying, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_b1ac2e88e89b9480e0c5b53fa60" PRIMARY KEY ("id"))
[2022-12-22T04:31:16.792Z][QUERY]: COMMIT
[2023-07-24T23:05:45.819Z][QUERY]: SELECT * FROM current_schema()
[2023-07-24T23:15:54.387Z][QUERY]: SELECT * FROM current_schema()
[2023-07-24T23:15:55.662Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2023-07-24T23:15:55.664Z][QUERY]: SHOW server_version;
[2023-07-24T23:15:55.666Z][QUERY]: START TRANSACTION
[2023-07-24T23:15:55.668Z][QUERY]: SELECT * FROM current_schema()
[2023-07-24T23:15:55.669Z][QUERY]: SELECT * FROM current_database()
[2023-07-24T23:15:55.670Z][QUERY]: SELECT "table_schema", "table_name" FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'map_point') OR ("table_schema" = 'public' AND "table_name" = 'location') OR ("table_schema" = 'public' AND "table_name" = 'schedules') OR ("table_schema" = 'public' AND "table_name" = 'emailVerification') OR ("table_schema" = 'public' AND "table_name" = 'password_reset') OR ("table_schema" = 'public' AND "table_name" = 'phoneVerification') OR ("table_schema" = 'public' AND "table_name" = 'pet_patron') OR ("table_schema" = 'public' AND "table_name" = 'profile') OR ("table_schema" = 'public' AND "table_name" = 'users') OR ("table_schema" = 'public' AND "table_name" = 'pet_owner') OR ("table_schema" = 'public' AND "table_name" = 'pet') OR ("table_schema" = 'public' AND "table_name" = 'trip') OR ("table_schema" = 'public' AND "table_name" = 'wallet') OR ("table_schema" = 'public' AND "table_name" = 'order') OR ("table_schema" = 'public' AND "table_name" = 'payment') OR ("table_schema" = 'public' AND "table_name" = 'emailChange') OR ("table_schema" = 'public' AND "table_name" = 'transaction') OR ("table_schema" = 'public' AND "table_name" = 'trip_location_history')
[2023-07-24T23:15:55.674Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2023-07-24T23:15:55.676Z]creating a new table: public.map_point
[2023-07-24T23:15:55.678Z][QUERY]: CREATE TABLE "map_point" ("id" SERIAL NOT NULL, "location" geography(Point,4326), "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_9e363eaab8d541d58e1f3fce76a" PRIMARY KEY ("id"))
[2023-07-24T23:15:55.693Z][QUERY]: ROLLBACK
[2023-07-24T23:23:35.295Z][QUERY]: SELECT * FROM current_schema()
[2023-07-24T23:23:36.786Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2023-07-24T23:23:36.789Z][QUERY]: SHOW server_version;
[2023-07-24T23:23:36.791Z][QUERY]: START TRANSACTION
[2023-07-24T23:23:36.793Z][QUERY]: SELECT * FROM current_schema()
[2023-07-24T23:23:36.794Z][QUERY]: SELECT * FROM current_database()
[2023-07-24T23:23:36.796Z][QUERY]: SELECT "table_schema", "table_name" FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'emailVerification') OR ("table_schema" = 'public' AND "table_name" = 'password_reset') OR ("table_schema" = 'public' AND "table_name" = 'phoneVerification') OR ("table_schema" = 'public' AND "table_name" = 'schedules') OR ("table_schema" = 'public' AND "table_name" = 'pet_owner') OR ("table_schema" = 'public' AND "table_name" = 'pet_patron') OR ("table_schema" = 'public' AND "table_name" = 'profile') OR ("table_schema" = 'public' AND "table_name" = 'users') OR ("table_schema" = 'public' AND "table_name" = 'emailChange') OR ("table_schema" = 'public' AND "table_name" = 'map_point') OR ("table_schema" = 'public' AND "table_name" = 'location') OR ("table_schema" = 'public' AND "table_name" = 'pet') OR ("table_schema" = 'public' AND "table_name" = 'trip') OR ("table_schema" = 'public' AND "table_name" = 'wallet') OR ("table_schema" = 'public' AND "table_name" = 'order') OR ("table_schema" = 'public' AND "table_name" = 'payment') OR ("table_schema" = 'public' AND "table_name" = 'transaction') OR ("table_schema" = 'public' AND "table_name" = 'trip_location_history')
[2023-07-24T23:23:36.802Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2023-07-24T23:23:36.805Z]creating a new table: public.emailVerification
[2023-07-24T23:23:36.809Z][QUERY]: CREATE TABLE "emailVerification" ("id" SERIAL NOT NULL, "token" character varying(21) NOT NULL, "userId" integer NOT NULL, "validUntil" TIMESTAMP NOT NULL, "isVerification" boolean NOT NULL DEFAULT false, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "updatedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_2382546f971f52418d861080fe1" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.830Z]creating a new table: public.password_reset
[2023-07-24T23:23:36.831Z][QUERY]: CREATE TABLE "password_reset" ("id" SERIAL NOT NULL, "token" character varying(21) NOT NULL, "userId" character varying NOT NULL, "validUntil" TIMESTAMP NOT NULL, "isVerification" boolean NOT NULL DEFAULT false, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_8515e60a2cc41584fa4784f52ce" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.842Z]creating a new table: public.phoneVerification
[2023-07-24T23:23:36.843Z][QUERY]: CREATE TABLE "phoneVerification" ("id" SERIAL NOT NULL, "code" character varying(6) NOT NULL, "userId" integer NOT NULL, "validUntil" TIMESTAMP NOT NULL, "isVerification" boolean NOT NULL DEFAULT false, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_b7dfa760f38b0c9eb2781d26439" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.849Z]creating a new table: public.schedules
[2023-07-24T23:23:36.849Z][QUERY]: CREATE TABLE "schedules" ("id" SERIAL NOT NULL, "name" character varying, "workDate" TIMESTAMP, "startHour" TIMESTAMP, "endHour" TIMESTAMP, "dayOfWeek" integer, "repeatDaysNumber" integer, "isHoliday" boolean NOT NULL, "isWeekend" boolean NOT NULL, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_7e33fc2ea755a5765e3564e66dd" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.857Z]creating a new table: public.pet_owner
[2023-07-24T23:23:36.857Z][QUERY]: CREATE TABLE "pet_owner" ("id" SERIAL NOT NULL, "rating" double precision NOT NULL, CONSTRAINT "PK_5116a00f46dd9097ed6bd8dd6a5" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.862Z]creating a new table: public.pet_patron
[2023-07-24T23:23:36.862Z][QUERY]: CREATE TABLE "pet_patron" ("id" SERIAL NOT NULL, "rating" double precision NOT NULL, CONSTRAINT "PK_5e3332e9da87fcc5ac77adf47a2" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.866Z]creating a new table: public.profile
[2023-07-24T23:23:36.866Z][QUERY]: CREATE TABLE "profile" ("id" SERIAL NOT NULL, "bio" character varying NOT NULL, "profileType" character varying NOT NULL, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_3dd8bfc97e4a77c70971591bdcb" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.872Z]creating a new table: public.users
[2023-07-24T23:23:36.874Z][QUERY]: CREATE TABLE "users" ("id" SERIAL NOT NULL, "username" character varying(200) NOT NULL, "email" character varying(100) NOT NULL, "passwordHash" character varying NOT NULL, "firstName" character varying(200) NOT NULL, "lastName" character varying(200) NOT NULL, "middleName" character varying(100), "image" character varying NOT NULL, "emailVerified" boolean NOT NULL DEFAULT false, "birthDate" TIMESTAMP, "phone" character varying NOT NULL, "registrationDate" TIMESTAMP NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone, "roles" text NOT NULL, "isAccountDisabled" boolean NOT NULL, "age" integer NOT NULL, "createdAt" TIMESTAMP DEFAULT now(), "updatedAt" TIMESTAMP DEFAULT now(), CONSTRAINT "username" UNIQUE ("username"), CONSTRAINT "email" UNIQUE ("email"), CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.884Z]creating a new table: public.emailChange
[2023-07-24T23:23:36.885Z][QUERY]: CREATE TABLE "emailChange" ("id" SERIAL NOT NULL, "token" character varying(21) NOT NULL, "newEmail" character varying NOT NULL, "userId" integer NOT NULL, "validUntil" TIMESTAMP NOT NULL, "isVerification" boolean NOT NULL DEFAULT false, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_6e8e3dcd4d8e4cdea67b9e6c6c1" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.893Z]creating a new table: public.map_point
[2023-07-24T23:23:36.894Z][QUERY]: CREATE TABLE "map_point" ("id" SERIAL NOT NULL, "location" geography(Point,4326), "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_9e363eaab8d541d58e1f3fce76a" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.904Z]creating a new table: public.location
[2023-07-24T23:23:36.904Z][QUERY]: CREATE TABLE "location" ("id" SERIAL NOT NULL, "name" character varying NOT NULL, "city" character varying NOT NULL, "zipCode" character varying NOT NULL, CONSTRAINT "PK_876d7bdba03c72251ec4c2dc827" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.911Z]creating a new table: public.pet
[2023-07-24T23:23:36.912Z][QUERY]: CREATE TABLE "pet" ("id" SERIAL NOT NULL, "name" character varying NOT NULL, "type" integer NOT NULL DEFAULT '1', "birthDate" TIMESTAMP, "photo" character varying, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_b1ac2e88e89b9480e0c5b53fa60" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.918Z]creating a new table: public.trip
[2023-07-24T23:23:36.919Z][QUERY]: CREATE TABLE "trip" ("id" SERIAL NOT NULL, "pickupInfo" character varying NOT NULL, "pickupEstimateTime" integer NOT NULL, "pickupTime" TIMESTAMP NOT NULL, "feedingInfo" character varying NOT NULL, "requestTime" interval NOT NULL, "startTime" TIMESTAMP NOT NULL, "endTime" TIMESTAMP NOT NULL, "walkDistance" double precision NOT NULL, "walkDuration" integer NOT NULL, "idleWalkDuration" integer NOT NULL, "status" character varying NOT NULL, "cancelReason" character varying, "expectedFare" integer NOT NULL, "expectedDistance" integer NOT NULL, "expectedDuration" integer NOT NULL, "totalFare" double precision NOT NULL, "netFare" double precision NOT NULL, "totalDistance" integer NOT NULL, "totalDuration" integer NOT NULL, "zoneCode" character varying NOT NULL, "ratingForPetOwner" integer NOT NULL, "ratingForPetPatron" integer NOT NULL, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_714c23d558208081dbccb9d9268" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.925Z]creating a new table: public.wallet
[2023-07-24T23:23:36.926Z][QUERY]: CREATE TABLE "wallet" ("id" SERIAL NOT NULL, "wallet" integer NOT NULL, "walletAddress" integer NOT NULL DEFAULT '0', "balance" integer NOT NULL, "currency" character varying NOT NULL DEFAULT 'PLN', "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_bec464dd8d54c39c54fd32e2334" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.933Z]creating a new table: public.order
[2023-07-24T23:23:36.934Z][QUERY]: CREATE TABLE "order" ("id" SERIAL NOT NULL, "type" text NOT NULL, "title" character varying NOT NULL, "description" character varying NOT NULL, "startAt" TIMESTAMP NOT NULL, "endAt" TIMESTAMP NOT NULL, "estimatedCost" integer NOT NULL, "currency" character varying NOT NULL, "walkDuration" interval, "walkDistance" double precision, "carryType" character varying NOT NULL, "feedInfo" character varying NOT NULL, "isPublished" boolean NOT NULL DEFAULT false, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_1031171c13130102495201e3e20" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.942Z]creating a new table: public.payment
[2023-07-24T23:23:36.943Z][QUERY]: CREATE TABLE "payment" ("id" SERIAL NOT NULL, "method" character varying NOT NULL, "amount" integer NOT NULL, "currency" character varying NOT NULL, "description" character varying NOT NULL, CONSTRAINT "PK_fcaec7df5adf9cac408c686b2ab" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.950Z]creating a new table: public.transaction
[2023-07-24T23:23:36.951Z][QUERY]: CREATE TABLE "transaction" ("id" SERIAL NOT NULL, "amount" integer NOT NULL, "currency" character varying NOT NULL, "startedAt" TIMESTAMP NOT NULL, "endedAt" TIMESTAMP NOT NULL, "status" character varying NOT NULL, "duration" interval NOT NULL, "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_89eadb93a89810556e1cbcd6ab9" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.958Z]creating a new table: public.trip_location_history
[2023-07-24T23:23:36.958Z][QUERY]: CREATE TABLE "trip_location_history" ("id" SERIAL NOT NULL, "location" geography(Point,4326), "createdAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, "modifiedAt" TIMESTAMP DEFAULT ('now'::text)::timestamp(6) with time zone, CONSTRAINT "PK_a436048ef12ca39b47c1d5f6153" PRIMARY KEY ("id"))
[2023-07-24T23:23:36.971Z][QUERY]: COMMIT
[2023-07-25T00:20:19.722Z][QUERY]: SELECT * FROM current_schema()
[2023-07-25T00:20:21.666Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2023-07-25T00:20:21.668Z][QUERY]: SHOW server_version;
[2023-07-25T00:20:21.670Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_migrations'
[2023-07-25T00:20:21.678Z][QUERY]: CREATE TABLE "typeorm_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_bb2f075707dd300ba86d0208923" PRIMARY KEY ("id"))
[2023-07-25T00:20:21.707Z][QUERY]: SELECT * FROM "typeorm_migrations" "typeorm_migrations" ORDER BY "id" DESC
[2023-07-25T00:20:39.268Z][QUERY]: SELECT * FROM current_schema()
[2023-07-25T00:20:41.092Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2023-07-25T00:20:41.094Z][QUERY]: SHOW server_version;
[2023-07-25T00:20:41.096Z][QUERY]: START TRANSACTION
[2023-07-25T00:20:41.099Z][QUERY]: SELECT * FROM current_schema()
[2023-07-25T00:20:41.100Z][QUERY]: SELECT * FROM current_database()
[2023-07-25T00:20:41.101Z][QUERY]: SELECT "table_schema", "table_name" FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'password_reset') OR ("table_schema" = 'public' AND "table_name" = 'phoneVerification') OR ("table_schema" = 'public' AND "table_name" = 'schedules') OR ("table_schema" = 'public' AND "table_name" = 'pet_owner') OR ("table_schema" = 'public' AND "table_name" = 'pet_patron') OR ("table_schema" = 'public' AND "table_name" = 'profile') OR ("table_schema" = 'public' AND "table_name" = 'users') OR ("table_schema" = 'public' AND "table_name" = 'emailVerification') OR ("table_schema" = 'public' AND "table_name" = 'map_point') OR ("table_schema" = 'public' AND "table_name" = 'location') OR ("table_schema" = 'public' AND "table_name" = 'emailChange') OR ("table_schema" = 'public' AND "table_name" = 'pet') OR ("table_schema" = 'public' AND "table_name" = 'trip') OR ("table_schema" = 'public' AND "table_name" = 'wallet') OR ("table_schema" = 'public' AND "table_name" = 'order') OR ("table_schema" = 'public' AND "table_name" = 'payment') OR ("table_schema" = 'public' AND "table_name" = 'transaction') OR ("table_schema" = 'public' AND "table_name" = 'trip_location_history')
[2023-07-25T00:20:41.106Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2023-07-25T00:20:41.113Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'trip_location_history') OR ("table_schema" = 'public' AND "table_name" = 'emailVerification') OR ("table_schema" = 'public' AND "table_name" = 'password_reset') OR ("table_schema" = 'public' AND "table_name" = 'phoneVerification') OR ("table_schema" = 'public' AND "table_name" = 'schedules') OR ("table_schema" = 'public' AND "table_name" = 'pet_owner') OR ("table_schema" = 'public' AND "table_name" = 'pet_patron') OR ("table_schema" = 'public' AND "table_name" = 'profile') OR ("table_schema" = 'public' AND "table_name" = 'users') OR ("table_schema" = 'public' AND "table_name" = 'emailChange') OR ("table_schema" = 'public' AND "table_name" = 'map_point') OR ("table_schema" = 'public' AND "table_name" = 'location') OR ("table_schema" = 'public' AND "table_name" = 'pet') OR ("table_schema" = 'public' AND "table_name" = 'trip') OR ("table_schema" = 'public' AND "table_name" = 'wallet') OR ("table_schema" = 'public' AND "table_name" = 'order') OR ("table_schema" = 'public' AND "table_name" = 'payment') OR ("table_schema" = 'public' AND "table_name" = 'transaction')
[2023-07-25T00:20:41.114Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'trip_location_history') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'emailVerification') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'password_reset') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'phoneVerification') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'schedules') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'pet_owner') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'pet_patron') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'profile') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'users') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'emailChange') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'map_point') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'location') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'pet') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'trip') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'wallet') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'order') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'payment') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'transaction'))
[2023-07-25T00:20:41.114Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'trip_location_history') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'emailVerification') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'password_reset') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'phoneVerification') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'schedules') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'pet_owner') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'pet_patron') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'profile') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'users') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'emailChange') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'map_point') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'location') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'pet') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'trip') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'wallet') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'order') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'payment') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'transaction'))
[2023-07-25T00:20:41.115Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'trip_location_history') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'emailVerification') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'password_reset') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'phoneVerification') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'schedules') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'pet_owner') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'pet_patron') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'profile') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'users') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'emailChange') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'map_point') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'location') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'pet') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'trip') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'wallet') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'order') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'payment') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'transaction')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2023-07-25T00:20:41.160Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'trip_location_history' AND "column_name"='location'
[2023-07-25T00:20:41.160Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'map_point' AND "column_name"='location'
[2023-07-25T00:20:41.165Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geography'
[2023-07-25T00:20:41.169Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geography'
[2023-07-25T00:20:41.170Z][QUERY]: SELECT * FROM (
                        SELECT
                          "f_table_schema" "table_schema",
                          "f_table_name" "table_name",
                          "f_geography_column" "column_name",
                          "srid",
                          "type"
                        FROM "geography_columns"
                      ) AS _
                      WHERE
                          "column_name" = 'location' AND
                          "table_schema" = 'public' AND
                          "table_name" = 'trip_location_history'
[2023-07-25T00:20:41.172Z][QUERY]: SELECT * FROM (
                        SELECT
                          "f_table_schema" "table_schema",
                          "f_table_name" "table_name",
                          "f_geography_column" "column_name",
                          "srid",
                          "type"
                        FROM "geography_columns"
                      ) AS _
                      WHERE
                          "column_name" = 'location' AND
                          "table_schema" = 'public' AND
                          "table_name" = 'map_point'
[2023-07-25T00:20:41.176Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2023-07-25T00:20:41.188Z]new columns added: name
[2023-07-25T00:20:41.191Z][QUERY]: ALTER TABLE "users" ADD "name" character varying(200) NOT NULL
[2023-07-25T00:20:41.198Z]columns changed in "users". updating: roles
[2023-07-25T00:20:41.200Z][QUERY]: ALTER TABLE "users" ALTER COLUMN "roles" SET DEFAULT '["USER"]'
[2023-07-25T00:20:41.205Z][QUERY]: COMMIT
[2023-07-25T00:33:56.488Z][QUERY]: SELECT * FROM current_schema()
[2023-07-25T00:33:58.334Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2023-07-25T00:33:58.337Z][QUERY]: SHOW server_version;
[2023-07-25T00:33:58.339Z][QUERY]: START TRANSACTION
[2023-07-25T00:33:58.342Z][QUERY]: SELECT * FROM current_schema()
[2023-07-25T00:33:58.343Z][QUERY]: SELECT * FROM current_database()
[2023-07-25T00:33:58.345Z][QUERY]: SELECT "table_schema", "table_name" FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'emailVerification') OR ("table_schema" = 'public' AND "table_name" = 'password_reset') OR ("table_schema" = 'public' AND "table_name" = 'phoneVerification') OR ("table_schema" = 'public' AND "table_name" = 'schedules') OR ("table_schema" = 'public' AND "table_name" = 'pet_owner') OR ("table_schema" = 'public' AND "table_name" = 'pet_patron') OR ("table_schema" = 'public' AND "table_name" = 'profile') OR ("table_schema" = 'public' AND "table_name" = 'users') OR ("table_schema" = 'public' AND "table_name" = 'emailChange') OR ("table_schema" = 'public' AND "table_name" = 'map_point') OR ("table_schema" = 'public' AND "table_name" = 'location') OR ("table_schema" = 'public' AND "table_name" = 'pet') OR ("table_schema" = 'public' AND "table_name" = 'wallet') OR ("table_schema" = 'public' AND "table_name" = 'payment') OR ("table_schema" = 'public' AND "table_name" = 'trip') OR ("table_schema" = 'public' AND "table_name" = 'order') OR ("table_schema" = 'public' AND "table_name" = 'transaction') OR ("table_schema" = 'public' AND "table_name" = 'trip_location_history')
[2023-07-25T00:33:58.350Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2023-07-25T00:33:58.359Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'trip_location_history') OR ("table_schema" = 'public' AND "table_name" = 'emailVerification') OR ("table_schema" = 'public' AND "table_name" = 'password_reset') OR ("table_schema" = 'public' AND "table_name" = 'phoneVerification') OR ("table_schema" = 'public' AND "table_name" = 'schedules') OR ("table_schema" = 'public' AND "table_name" = 'pet_owner') OR ("table_schema" = 'public' AND "table_name" = 'pet_patron') OR ("table_schema" = 'public' AND "table_name" = 'profile') OR ("table_schema" = 'public' AND "table_name" = 'users') OR ("table_schema" = 'public' AND "table_name" = 'emailChange') OR ("table_schema" = 'public' AND "table_name" = 'map_point') OR ("table_schema" = 'public' AND "table_name" = 'location') OR ("table_schema" = 'public' AND "table_name" = 'pet') OR ("table_schema" = 'public' AND "table_name" = 'trip') OR ("table_schema" = 'public' AND "table_name" = 'wallet') OR ("table_schema" = 'public' AND "table_name" = 'order') OR ("table_schema" = 'public' AND "table_name" = 'payment') OR ("table_schema" = 'public' AND "table_name" = 'transaction')
[2023-07-25T00:33:58.360Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'trip_location_history') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'emailVerification') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'password_reset') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'phoneVerification') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'schedules') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'pet_owner') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'pet_patron') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'profile') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'users') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'emailChange') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'map_point') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'location') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'pet') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'trip') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'wallet') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'order') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'payment') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'transaction'))
[2023-07-25T00:33:58.361Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'trip_location_history') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'emailVerification') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'password_reset') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'phoneVerification') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'schedules') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'pet_owner') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'pet_patron') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'profile') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'users') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'emailChange') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'map_point') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'location') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'pet') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'trip') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'wallet') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'order') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'payment') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'transaction'))
[2023-07-25T00:33:58.361Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'trip_location_history') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'emailVerification') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'password_reset') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'phoneVerification') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'schedules') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'pet_owner') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'pet_patron') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'profile') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'users') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'emailChange') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'map_point') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'location') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'pet') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'trip') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'wallet') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'order') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'payment') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'transaction')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2023-07-25T00:33:58.407Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'trip_location_history' AND "column_name"='location'
[2023-07-25T00:33:58.408Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'map_point' AND "column_name"='location'
[2023-07-25T00:33:58.411Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geography'
[2023-07-25T00:33:58.414Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geography'
[2023-07-25T00:33:58.415Z][QUERY]: SELECT * FROM (
                        SELECT
                          "f_table_schema" "table_schema",
                          "f_table_name" "table_name",
                          "f_geography_column" "column_name",
                          "srid",
                          "type"
                        FROM "geography_columns"
                      ) AS _
                      WHERE
                          "column_name" = 'location' AND
                          "table_schema" = 'public' AND
                          "table_name" = 'trip_location_history'
[2023-07-25T00:33:58.416Z][QUERY]: SELECT * FROM (
                        SELECT
                          "f_table_schema" "table_schema",
                          "f_table_name" "table_name",
                          "f_geography_column" "column_name",
                          "srid",
                          "type"
                        FROM "geography_columns"
                      ) AS _
                      WHERE
                          "column_name" = 'location' AND
                          "table_schema" = 'public' AND
                          "table_name" = 'map_point'
[2023-07-25T00:33:58.420Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2023-07-25T00:33:58.439Z]columns changed in "users". updating: firstName, lastName, image, phone, isAccountDisabled, age
[2023-07-25T00:33:58.442Z][QUERY]: ALTER TABLE "users" ALTER COLUMN "firstName" DROP NOT NULL
[2023-07-25T00:33:58.446Z][QUERY]: ALTER TABLE "users" ALTER COLUMN "lastName" DROP NOT NULL
[2023-07-25T00:33:58.448Z][QUERY]: ALTER TABLE "users" ALTER COLUMN "image" DROP NOT NULL
[2023-07-25T00:33:58.449Z][QUERY]: ALTER TABLE "users" DROP COLUMN "phone"
[2023-07-25T00:33:58.463Z][QUERY]: ALTER TABLE "users" ADD "phone" character varying(20)
[2023-07-25T00:33:58.464Z][QUERY]: ALTER TABLE "users" ALTER COLUMN "isAccountDisabled" SET DEFAULT false
[2023-07-25T00:33:58.466Z][QUERY]: ALTER TABLE "users" ALTER COLUMN "age" DROP NOT NULL
[2023-07-25T00:33:58.470Z][QUERY]: COMMIT
